{"version":3,"sources":["webpack:///E:/uniapp/uniapp-shoppingMall/main.js","webpack:///E:/uniapp/uniapp-shoppingMall/pages/buy/buy.vue?bf08","webpack:///E:/uniapp/uniapp-shoppingMall/pages/buy/buy.vue?7176","webpack:///E:/uniapp/uniapp-shoppingMall/pages/buy/buy.vue?d9a5","webpack:///E:/uniapp/uniapp-shoppingMall/pages/buy/buy.vue?72b4","webpack:///E:/uniapp/uniapp-shoppingMall/pages/buy/buy.vue","webpack:///E:/uniapp/uniapp-shoppingMall/pages/buy/buy.vue?9cac","webpack:///E:/uniapp/uniapp-shoppingMall/pages/buy/buy.vue?a43a"],"names":["createPage","Page","components","buyList","popup","data","message","isShow","shipping_method","recommended_code","undefined","note","onLoad","userId","uni","getStorageSync","showToast","title","icon","success","navigateBack","delta","getOrderCartAry","getBuyToatlPic","getCheckisCoupon","onShow","getDefaultAddress","methods","rsetForm","formSubit","e","formId","detail","console","log","cellphone","address","quantity","totalPic","addressId","quantity_sum","price_sum","res","duration","redirectTo","url","status","payment","id","openId","openid","requestPayment","timeStamp","nonceStr","package","paySign","clone","couponList","number","reduce","pre","item","is_checked","length","getIntegralDTotal","then","preferentialAmount","newPic","showModal","content","cancelText","confirmText","confirm","useCoupon","cancel","forEach","getChoiceIntegralsub","openCoupon","seleteAddress","navigateTo","seleteCoupon","currentTarget","dataset","getSeleteCoupon","checkId","computed","state","buy","orderList","marketPriceTotal","isCoupon","user"],"mappings":"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","file":"pages/buy/buy.js","sourcesContent":["import 'uni-pages';\nimport Vue from 'vue'\nimport Page from './pages/buy/buy.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./buy.vue?vue&type=template&id=ba1d8a6a&\"\nvar renderjs\nimport script from \"./buy.vue?vue&type=script&lang=js&\"\nexport * from \"./buy.vue?vue&type=script&lang=js&\"\nimport style0 from \"./buy.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"uniapp/uniapp-shoppingMall/pages/buy/buy.vue\"\nexport default component.exports","export * from \"-!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./buy.vue?vue&type=template&id=ba1d8a6a&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  if (!_vm._isMounted) {\n    _vm.e0 = function($event) {\n      5000\n    }\n  }\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./buy.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./buy.vue?vue&type=script&lang=js&\"","//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport buyList from '@/components/buyComponent/buyList.vue';\nimport popup from '@/components/popup.vue';\nimport {\n\tcalculation\n} from '@/static/utils.js';\nimport {\n\taddOrder,\n\tpay\n} from '@/http/buy.js';\nimport {\n\tmapActions,\n\tmapState,\n\tmapGetters\n} from 'vuex';\nexport default {\n\tcomponents: {\n\t\tbuyList,\n\t\tpopup\n\t},\n\tdata() {\n\t\treturn {\n\t\t\tmessage: '',\n\t\t\tisShow: false,\n\t\t\tshipping_method: '',\n\t\t\trecommended_code: undefined,\n\t\t\tnote: ''\n\t\t}\n\t},\n\tonLoad() {\n\t\t// 检查是否登陆\n\t\tthis.userId = uni.getStorageSync('userId');\n\t\tif (!this.userId) {\n\t\t\tuni.showToast({\n\t\t\t\ttitle: '请先登陆',\n\t\t\t\ticon: 'none',\n\t\t\t\tsuccess: () => {\n\t\t\t\t\tuni.navigateBack({\n\t\t\t\t\t\tdelta: 1\n\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t})\n\t\t\treturn\n\t\t}\n\t\tthis.getOrderCartAry(this.userId);\n\t\tthis.getBuyToatlPic(this.userId);\n\t\tthis.getCheckisCoupon(this.userId)\n\t},\n\tonShow() {\n\t\t// 获取地址\n\t\tthis.getDefaultAddress(this.userId);\n\t},\n\tmethods: {\n\t\t...mapActions(['getDefaultAddress', 'getOrderCartAry', 'getBuyToatlPic', 'getCheckisCoupon', 'getSeleteCoupon',\n\t\t\t'getIntegralDTotal', 'useCoupon', 'getChoiceIntegralsub'\n\t\t]),\n\t\trsetForm() { //重置表单\n\n\t\t},\n\t\tasync formSubit(e) { //提交订单\n\t\t\tlet formId = e.detail.formId;\n\t\t\tconsole.log(e)\n\t\t\tconsole.log(formId)\n\t\t\tlet {\n\t\t\t\tcellphone,\n\t\t\t\taddress,\n\t\t\t\tquantity,\n\t\t\t\ttotalPic,\n\t\t\t\tuserId,\n\t\t\t\taddressId,\n\t\t\t\tshipping_method,\n\t\t\t\trecommended_code,\n\t\t\t\tnote\n\t\t\t} = this;\n\t\t\tif (!cellphone || !address) {\n\t\t\t\tuni.showToast({\n\t\t\t\t\ttitle: '请选择地址',\n\t\t\t\t\ticon: 'none'\n\t\t\t\t})\n\t\t\t}\n\t\t\tconsole.log('userId', userId)\n\t\t\tconsole.log('addressId', addressId)\n\t\t\tconsole.log('quantity_sum', quantity)\n\t\t\tconsole.log('price_sum', totalPic)\n\t\t\tconsole.log('shipping_method', shipping_method)\n\t\t\tconsole.log('recommended_code', recommended_code)\n\t\t\tconsole.log('note', note)\n\t\t\tconsole.log('formId', formId)\n\t\t\tlet res = await addOrder({\n\t\t\t\tuserId: userId,\n\t\t\t\taddressId: addressId,\n\t\t\t\tquantity_sum: quantity,\n\t\t\t\tprice_sum: totalPic,\n\t\t\t\tshipping_method: shipping_method,\n\t\t\t\trecommended_code: recommended_code,\n\t\t\t\tnote: note,\n\t\t\t\tformId: formId\n\t\t\t});\n\t\t\tconsole.log(res)\n\t\t\tif (totalPic <= 0) {\n\t\t\t\tuni.showToast({\n\t\t\t\t\ttitle: '购买成功',\n\t\t\t\t\ticon: 'success',\n\t\t\t\t\tduration: 1000,\n\t\t\t\t\tsuccess: () => {\n\t\t\t\t\t\tuni.redirectTo({\n\t\t\t\t\t\t\turl: '/pages/order/order',\n\t\t\t\t\t\t})\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t\treturn\n\t\t\t} else {\n\t\t\t\tif (res.data.status != null) {\n\t\t\t\t\tthis.payment(res.data.status)\n\t\t\t\t} else {\n\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\ttitle: '提交失败!',\n\t\t\t\t\t\ticon: 'none',\n\t\t\t\t\t\tduration: 1500\n\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\tasync payment(id) { //付款函数\n\t\t\tlet {userId,openId} = this;\n\t\t\tconsole.log({id,userId})\n\t\t\t\n\t\t\tlet openid = uni.getStorageSync('openId');\n\t\t\tconsole.log(openid)\n\t\t\tlet res = await pay({id,userId,openid:openid});\n\t\t\tconsole.log(res)\n\t\t\tif (res.data != null) {\n\t\t\t\tconsole.log('进来')\n\t\t\t\tuni.requestPayment({\n\t\t\t\t\t'provider': \"weixin\",\n\t\t\t\t\t\"orderInfo\":res.data.timeStamp,\n\t\t\t\t\t'timeStamp': res.data.timeStamp,\n\t\t\t\t\t'nonceStr': res.data.nonceStr,\n\t\t\t\t\t'package': res.data.package,\n\t\t\t\t\t'signType': 'MD5',\n\t\t\t\t\t'paySign': res.data.paySign,\n\t\t\t\t\tsuccess:(res)=>{\n\t\t\t\t\t\tconsole.log(res)\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t}\n\t\t},\n\t\tclone() { //关闭窗口并计算金额\n\t\t\tthis.isShow = false;\n\t\t\tconsole.log(this.couponList)\n\t\t\tlet {\n\t\t\t\tcouponList\n\t\t\t} = this;\n\t\t\tlet number = couponList.reduce((pre, item) => {\n\t\t\t\tif (item.is_checked === 1) {\n\t\t\t\t\tpre += 1;\n\t\t\t\t}\n\t\t\t\treturn pre\n\t\t\t}, 0);\n\t\t\tif (number === couponList.length) {\n\t\t\t\t// 没有选择任何优惠劵\n\t\t\t\tthis.getBuyToatlPic(this.userId) //重新获取购物车价钱\n\t\t\t\treturn\n\t\t\t}\n\t\t\tthis.getIntegralDTotal(this.userId).then(() => {\n\t\t\t\tlet {\n\t\t\t\t\tpreferentialAmount,\n\t\t\t\t\ttotalPic\n\t\t\t\t} = this;\n\t\t\t\tlet newPic = calculation(totalPic, preferentialAmount);\n\t\t\t\tif (newPic < 0) {\n\t\t\t\t\tuni.showModal({\n\t\t\t\t\t\ttitle: '温馨提示',\n\t\t\t\t\t\tcontent: '优惠劵金额大于商品金额,确定使用吗',\n\t\t\t\t\t\tcancelText: \"不使用\",\n\t\t\t\t\t\tconfirmText: '使用',\n\t\t\t\t\t\tsuccess: res => {\n\n\t\t\t\t\t\t\tif (res.confirm) {\n\t\t\t\t\t\t\t\tconsole.log('点了确定')\n\t\t\t\t\t\t\t\tthis.useCoupon(0)\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif (res.cancel) {\n\t\t\t\t\t\t\t\tconsole.log('点了取消')\n\t\t\t\t\t\t\t\t// 点击了取消,遍历优惠劵,取消选择优惠劵\n\t\t\t\t\t\t\t\tthis.couponList.forEach(item => {\n\t\t\t\t\t\t\t\t\tif (item.is_checked === 2) {\n\t\t\t\t\t\t\t\t\t\tthis.getChoiceIntegralsub(item.id)\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\tthis.getBuyToatlPic(this.userId)\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t\t} else {\n\t\t\t\t\tthis.useCoupon(newPic)\n\t\t\t\t}\n\n\t\t\t})\n\t\t},\n\t\topenCoupon() {\n\t\t\tthis.isShow = true;\n\t\t},\n\t\tseleteAddress() {\n\t\t\tuni.navigateTo({\n\t\t\t\turl: '/pages/addressList/addressList'\n\t\t\t})\n\t\t},\n\t\tseleteCoupon(e) {\n\t\t\tlet {\n\t\t\t\tid,\n\t\t\t\tis_checked\n\t\t\t} = e.currentTarget.dataset;\n\t\t\tlet {\n\t\t\t\tuserId\n\t\t\t} = this;\n\t\t\tthis.getSeleteCoupon({\n\t\t\t\tid,\n\t\t\t\tcheckId: is_checked,\n\t\t\t\tuserId\n\t\t\t})\n\t\t}\n\t},\n\tcomputed: {\n\t\t...mapState({\n\t\t\taddress: state => state.buy.address,\n\t\t\tcellphone: state => state.buy.cellphone,\n\t\t\torderList: state => state.buy.orderList,\n\t\t\ttotalPic: state => state.buy.totalPic,\n\t\t\tquantity: state => state.buy.quantity,\n\t\t\tmarketPriceTotal: state => state.buy.marketPriceTotal,\n\t\t\tcouponList: state => state.buy.couponList,\n\t\t\tisCoupon: state => state.buy.isCoupon,\n\t\t\tpreferentialAmount: state => state.buy.preferentialAmount,\n\t\t\taddressId: state => state.buy.addressId,\n\t\t\topenId : state => state.user.openId\n\t\t}),\n\t\t...mapGetters(['getSeleteCouponList'])\n\n\t}\n}\n","import mod from \"-!../../../../HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../HBuilderX/plugins/uniapp-cli/node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./buy.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../../../HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../HBuilderX/plugins/uniapp-cli/node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./buy.vue?vue&type=style&index=0&lang=scss&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1591346495549\n      var cssReload = require(\"E:/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}